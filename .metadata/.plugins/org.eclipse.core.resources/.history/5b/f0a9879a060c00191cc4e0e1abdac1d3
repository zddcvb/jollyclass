package com.jollyclass.airplayer.util
{
	import flash.events.Event;
	import flash.events.IOErrorEvent;
	import flash.filesystem.File;
	import flash.filesystem.FileMode;
	import flash.filesystem.FileStream;

	public class FileUtils
	{
		private static var logger:LoggerUtils=new LoggerUtils("com.jollyclass.airplayer.util.FileUtils");
		public function FileUtils()
		{
		}
		public static function writeFile(data:String,dateTime:String):void
		{
			var fileUtils:FileUtils=new FileUtils();
			fileUtils.writeDataToAppDictory(data,dateTime);
		}
		/**
		 * 将数据写入固定的目录当中，即写入到sd卡中的目录jollyclass_air_player中的log+当天日期.txt中
		 */
		public  function writeDataToAppDictory(data:String,dateTime:String):void
		{
			var fs:FileStream=null;
			try
			{
				var logParentFilePath:String="file:///storage/emulated/0/jollyclass_air_player/log"+dateTime+".txt";
				var file:File=new File(logParentFilePath);
				 fs=new FileStream();
				fs.openAsync(file,FileMode.APPEND);
				fs.addEventListener(Event.COMPLETE,onCompleteHandler);
				fs.addEventListener(IOErrorEvent.IO_ERROR,onErrorHandler);
				fs.writeUTFBytes(data);
				fs.close();
			} 
			catch(error:Error) 
			{
				error.getStackTrace();
			}
		}
		
		protected function onCompleteHandler(event:Event):void
		{	
			
		}
		
		protected function onErrorHandler(event:IOErrorEvent):void
		{
			
		}
	}
}